---
- summary: |
    Успешная регистрация пользователя с заполнением полей
  requirement: |
    Пользователь должен авторизоваться на сайте
  prerequisites: |
    Открыта страница регистрации 
  test-data: |
    Тестовые данные
    Nickname: test_user123
    Password: qwerty123
    E-mail: testmail@test.com
  steps:
    - Ввести Nickname
    - Ввести Password
    - Ввести Password повторно в поле подтверждения пароля
    - Ввести E-mail
  expected-result: |
    Пользователь попадает на главную страницу и автоматически авторизируется под никнеймом test_user123
    
- summary: |
    Успешная авторизация пользователя с помощью Github
  requirement: |
    Пользователь должен иметь возможность зарегестрироваться на сайте
  prerequisites: |
    Открыта страница авторизации.
    Активная сессия Гитхаб в браузере.
  test-data: |
    Тестовые данные
  steps:
    - Нажимаем на кнопку Sign in with Github
  expected-result: |
    Пользователь попадает на главную страницу и автоматически авторизуется под никнеймом, совпадающим с никнеймом на Гитхабе.

- summary: |
    Успешная авторизация пользователя с помощью Discord
  requirement: |
    Пользователь должен иметь возможность авторизоваться на сайте
  prerequisites: |
    Открыта страница авторизации.
    Активная сессия в Discord в браузере.
  test-data: |
    Тестовые данные
  steps:
    - Нажимаем на кнопку Sign in with Discord
    - Подтверждаем желание авторизоваться на странице дискорда
  expected-result: |
    Пользователь попадает на главную страницу и автоматически авторизуется под никнеймом, совпадающим с никнеймом в Дискорде.

- summary: |
    Успешная авторизация пользователя с заполнением полей
  requirement: |
    Пользователь должен авторизоваться на сайте
  prerequisites: |
    Открыта страница авторизации 
  test-data: |
    Тестовые данные
    E-mail: testmail@test.com
    Password: qwerty123
  steps:
    - Ввести E-mail
    - Ввести Password
  expected-result: |
    Пользователь попадает на главную страницу авторизованым.

- summary: |
    Авторизация несуществующего пользователя с заполнением полей
  requirement: |
    Пользователь должен авторизоваться на сайте
  prerequisites: |
    Открыта страница авторизации 
  test-data: |
    Тестовые данные
    E-mail: random_testmail@test.com
    Password: qwerty123
  steps:
    - Ввести E-mail
    - Ввести Password
  expected-result: |
    Пользователь видит ошибку авторизации "e-mail not found".

- summary: |
    Проверяем создание игры с ботом
  requirement: |
    Пользователь должен иметь возможность создавать игру
  prerequisites: |
    Открыта главная страница
    Выполнена авторизация
  test-data: |
    Тестовые данные
  steps:
    - Нажать на кнопку Create a game
    - Выбрать тип игры "With a bot"
    - Нажать на кнопку "Create Battle"
  expected-result: |
    Пользователь должен увидеть переход на экран превью битвы, после чего должен попасть на страницу с интерфейсом игры.
    
- summary: |
    Проверяем создание игры в лобби
  requirement: |
    Пользователь должен иметь возможность создавать игру
  prerequisites: |
    Открыта главная страница
    Выполнена авторизация
  test-data: |
    Тестовые данные
  steps:
    - Нажать на кнопку Create a game
    - Нажать на кнопку "Create Battle"
  expected-result: |
    Пользователь должен увидеть в лобби свою игру.

- summary: |
    Проверяем создание игры с прямым приглаешнием пользователя
  requirement: |
    Пользователь должен иметь возможность создавать игру
  prerequisites: |
    Открыта главная страница
    Выполнена авторизация
    Открыта главная страница в режиме инкогнито
    Выполнена авторизация от лица другого пользователя в режиме инкогнито
  test-data: |
    Тестовые данные
  steps:
    - Нажать на кнопку Create a game
    - Выбрать тип игры "With a friend"
    - В списке соперников найти пользователя, от лица которого выполнена авторизация в инкогнито
    - Нажать на кнопку "Create Battle"
  expected-result: |
    В шапке сайта пользователь видит новое уведомление, сообщающее, что другой пользователь приглашен в игру. Пользователь во вкладке Инкогнито получает уведомление о том, что его пригласили в игру.

- summary: |
    Проверяем создание игры в лобби с измененными правилами
  requirement: |
    Пользователь должен иметь возможность создавать игру
  prerequisites: |
    Открыта главная страница
    Выполнена авторизация
  test-data: |
    Тестовые данные
  steps:
    - Нажать на кнопку Create a game
    - Изменить правила по-умолчанию на любые доступные, например, увеличить время игры и выбрать конкретную задачу
    - Нажать на кнопку "Create Battle"
  expected-result: |
    Пользователь должен увидеть в лобби свою игру.

- summary: |
    Присоединение к чужой игре в лобби
  requirement: |
    Пользователь должен иметь возможность присоединиться к созданной другим пользователем игре
  prerequisites: |
    Открыта главная страница
    Выполнена авторизация
  test-data: |
    Тестовые данные
  steps:
    - Выбрать в лобби любую игру, которая еще не началась
    - Нажать на кнопку "fight"
  expected-result: |
    Пользователь должен увидеть экран-превью, после чего попасть на страницу с интерфейсом игры.

- summary: |
    Проверяем возможность решить задачу
  requirement: |
    Пользователь должен иметь возможность достигать целей игры
  prerequisites: |
    Выполнена авторизация
    Создана игра с задачей "Rect area"
  test-data: |
    Правильный ответ: 
        const _ = require("lodash");
        const R = require("rambda");

        const solution = (width, length) => {
          return width * length;
        };

        module.exports = solution;
  steps:
    - Очистить редактор кода
    - Вставить код из test-data
    - Нажать кнопку "check solution"
  expected-result: |
    Пользователь должен увидеть модальное окно с сообщением о победе.
    
- summary: |
    Завершение игры по истечению времени
  requirement: |
    Пользователь должен иметь возможность завершить игру по истечению времени или по достижению целей игры
  prerequisites: |
    Открыта главная страница
    Создана игра с таймером на 3 минуты
  test-data: |
    Тестовые данные
  steps:
    - Подождать до истечения времени
  expected-result: |
    В информационном блоке игрового интерфейса появляется сообщение о том, что время вышло и победитель не определен.
    
- summary: |
    Завершение игры по желанию пользователя
  requirement: |
    Пользователь должен иметь возможность завершить игру без достижения цели игры или истечения времени на игру
  prerequisites: |
    Открыта главная страница
    Создана игра с любыми настройками
  test-data: |
    Тестовые данные
  steps:
    - Нажать кнопку "Give up"
    - Подтвердить решение в модальном окне
  expected-result: |
    Игра завершается и пользователь видит модальное окно с сообщением о поражении.
